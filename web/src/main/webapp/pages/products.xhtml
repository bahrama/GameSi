<ui:composition template="../WEB-INF/pages/main-temp.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:f="http://xmlns.jcp.org/jsf/core">
    <ui:define name="metadata">
        <f:metadata>
            <f:viewParam name="giftType"/>
            <f:viewParam name="page" />
        </f:metadata>
    </ui:define>
    <ui:define name="main-head">
        <meta name="Description" content="Iranian Handwoven Carpets - Explore our exquisite collection at our online store"/>
    </ui:define>
    <ui:define name="main-body">
        <div class="container-main">
            <div class="d-block">
                <div class="page-content page-row">
                    <div class="main-row">
                        <div id="breadcrumb">
                            <i class="mdi mdi-home"></i>
                            <nav aria-label="breadcrumb">
                                <ol class="breadcrumb">
                                    <li class="breadcrumb-item"><a href="#">خانه</a></li>
                                    <li class="breadcrumb-item active" aria-current="page">آرشیو محصولات</li>
                                </ol>
                            </nav>
                        </div>

                        <div class="col-lg-12 col-md-12 col-xs-12 pl">
                            <div class="shop-archive-content mt-3 d-block">
                                <div class="product-items">
                                    <div class="tab-content" id="myTabContent">
                                        <div class="tab-pane fade show active" id="Most-visited" role="tabpanel"
                                             aria-labelledby="Most-visited-tab">
                                            <div class="row">
                                                <ui:repeat value="#{productViewManageBean.findProductByParam(giftType,page)}" var="prdc">
                                                <div class="col-lg-3 col-md-3 col-xs-12 order-1 d-block mb-3">
                                                    <section class="product-box product product-type-simple">
                                                        <div class="thumb">
                                                            <a href="#" class="d-block">
                                                                <div class="promotion-badge">فروش ویژه</div>
                                                                <div class="product-rate">
                                                                    <i class="fa fa-star active"></i>
                                                                    <i class="fa fa-star active"></i>
                                                                    <i class="fa fa-star active"></i>
                                                                    <i class="fa fa-star active"></i>
                                                                    <i class="fa fa-star"></i>
                                                                </div>
                                                                <div class="discount-d">
                                                                    <span>20%</span>
                                                                </div>
                                                                        <h:graphicImage library="assets" name="images/category/toys.png"/>
                                                            </a>
                                                        </div>
                                                        <div class="title">
                                                            <a href="#">#{prdc.productName}</a>
                                                        </div>
                                                        <div class="price">
                                                        <span class="amount">58,000
                                                            <span>تومان</span>
                                                        </span>
                                                        </div>
                                                    </section>
                                                </div>
                                                </ui:repeat>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="pagination-product">
                                    <nav aria-label="Page navigation example">
                                        <ul class="pagination">
                                            <h:panelGroup rendered="#{page ne 1}">
                                            <li class="page-item">
                                                <h:link outcome="/pages/products.xhtml" styleClass="page-link">
                                                    1
                                                    <f:param name="giftType" value="#{giftType}" />
                                                    <f:param name="page" value="#{1}" />
                                                </h:link>
                                            </li>
                                            </h:panelGroup>
                                            <li class="page-item">
                                                <h:link outcome="/pages/products.xhtml" styleClass="page-link">
                                                    #{productViewManageBean.rightArrow()}
                                                    <f:param name="giftType" value="#{giftType}" />
                                                    <f:param name="page" value="#{page-1}" />
                                                </h:link>
                                            </li>
                                            <ui:repeat size="#{productViewManageBean.limitSize(productViewManageBean.findLastPage(giftType),page)}" value="#{productViewManageBean.findPagination(giftType,page)}" var="pgs">
                                            <h:panelGroup rendered="#{page eq pgs}">
                                                <li class="page-item">
                                                    <h:link outcome="/pages/products.xhtml" styleClass="page-link active">
                                                        #{pgs}
                                                        <f:param name="giftType" value="#{giftType}" />
                                                        <f:param name="page" value="#{pgs}" />
                                                    </h:link>
                                                </li>
                                            </h:panelGroup>
                                            <h:panelGroup rendered="#{page ne pgs}">
                                                <li class="page-item">
                                                    <h:link outcome="/pages/products.xhtml" styleClass="page-link">
                                                        #{pgs}
                                                        <f:param name="giftType" value="#{giftType}" />
                                                        <f:param name="page" value="#{pgs}" />
                                                    </h:link>
                                                </li>
                                            </h:panelGroup>
                                            </ui:repeat>
                                            <li class="page-item">
                                                <h:link outcome="/pages/products.xhtml" styleClass="page-link">
                                                    #{productViewManageBean.leftArrow()}
                                                    <f:param name="giftType" value="#{giftType}" />
                                                    <f:param name="page" value="#{page +1}" />
                                                </h:link>
                                            </li>
                                            <li class="page-item">
                                                <h:link outcome="/pages/products.xhtml" styleClass="page-link">
                                                    #{productViewManageBean.findLastPage(giftType)}
                                                    <f:param name="giftType" value="#{giftType}" />
                                                    <f:param name="page" value="#{productViewManageBean.findLastPage(giftType)}" />
                                                </h:link>
                                            </li>
                                        </ul>
                                    </nav>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </ui:define>
    <ui:define name="main-foot">
    </ui:define>
</ui:composition>